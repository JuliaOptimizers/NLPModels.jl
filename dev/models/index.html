<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Models · NLPModels.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="NLPModels.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">NLPModels.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Models</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#NLPModels"><span>NLPModels</span></a></li><li><a class="tocitem" href="#ADNLPModel"><span>ADNLPModel</span></a></li><li><a class="tocitem" href="#Derived-Models"><span>Derived Models</span></a></li><li class="toplevel"><a class="tocitem" href="#NLSModels"><span>NLSModels</span></a></li><li><a class="tocitem" href="#ADNLSModel"><span>ADNLSModel</span></a></li><li><a class="tocitem" href="#FeasibilityResidual"><span>FeasibilityResidual</span></a></li><li><a class="tocitem" href="#LLSModel"><span>LLSModel</span></a></li><li><a class="tocitem" href="#SlackNLSModel"><span>SlackNLSModel</span></a></li><li><a class="tocitem" href="#FeasibilityFormNLS"><span>FeasibilityFormNLS</span></a></li></ul></li><li><a class="tocitem" href="../guidelines/">Guidelines</a></li><li><a class="tocitem" href="../tools/">Tools</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Models</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/master/docs/src/models.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h1><p>The following general models are implemented in this package:</p><ul><li><a href="#ADNLPModel">ADNLPModel</a></li><li><a href="#Derived-Models">Derived Models</a><ul><li><a href="#SlackModel">SlackModel</a></li><li><a href="#LBFGSModel">LBFGSModel</a></li><li><a href="#LSR1Model">LSR1Model</a></li></ul></li></ul><p>In addition, the following nonlinear least squares models are implemented in this package:</p><ul><li><a href="#ADNLSModel">ADNLSModel</a></li><li><a href="#FeasibilityResidual">FeasibilityResidual</a></li><li><a href="#LLSModel">LLSModel</a></li><li><a href="#SlackNLSModel">SlackNLSModel</a></li><li><a href="#FeasibilityFormNLS">FeasibilityFormNLS</a></li></ul><p>There are other external models implemented. In particular,</p><ul><li><a href="https://github.com/JuliaSmoothOptimizers/AmplNLReader.jl">AmplModel</a></li><li><a href="https://github.com/JuliaSmoothOptimizers/CUTEst.jl">CUTEstModel</a></li><li><a href="https://github.com/JuliaSmoothOptimizers/NLPModelsJuMP.jl">MathOptNLPModel</a> and <a href="https://github.com/JuliaSmoothOptimizers/NLPModelsJuMP.jl">MathOptNLSModel</a> using <code>JuMP/MOI</code>.</li></ul><p>There are currently two models implemented in this package, besides the external ones.</p><h1 id="NLPModels"><a class="docs-heading-anchor" href="#NLPModels">NLPModels</a><a id="NLPModels-1"></a><a class="docs-heading-anchor-permalink" href="#NLPModels" title="Permalink"></a></h1><h2 id="ADNLPModel"><a class="docs-heading-anchor" href="#ADNLPModel">ADNLPModel</a><a id="ADNLPModel-1"></a><a class="docs-heading-anchor-permalink" href="#ADNLPModel" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NLPModels.ADNLPModel" href="#NLPModels.ADNLPModel"><code>NLPModels.ADNLPModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ADNLPModel(f, x0)
ADNLPModel(f, x0, lvar, uvar)
ADNLPModel(f, x0, c, lcon, ucon)
ADNLPModel(f, x0, lvar, uvar, c, lcon, ucon)</code></pre><p>ADNLPModel is an AbstractNLPModel using ForwardDiff to compute the derivatives. The problem is defined as</p><pre><code class="language-none"> min  f(x)
s.to  lcon ≤ c(x) ≤ ucon
      lvar ≤   x  ≤ uvar.</code></pre><p>The following keyword arguments are available to all constructors:</p><ul><li><code>name</code>: The name of the model (default: &quot;Generic&quot;)</li></ul><p>The following keyword arguments are available to the constructors for constrained problems:</p><ul><li><code>lin</code>: An array of indexes of the linear constraints (default: <code>Int[]</code>)</li><li><code>y0</code>: An inital estimate to the Lagrangian multipliers (default: zeros)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/autodiff_model.jl#L17-L38">source</a></section></article><h3 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h3><pre><code class="language-julia">using NLPModels
f(x) = sum(x.^4)
x = [1.0; 0.5; 0.25; 0.125]
nlp = ADNLPModel(f, x)
grad(nlp, x)</code></pre><pre class="documenter-example-output">4-element Array{Float64,1}:
 4.0
 0.5
 0.0625
 0.0078125</pre><h2 id="Derived-Models"><a class="docs-heading-anchor" href="#Derived-Models">Derived Models</a><a id="Derived-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Derived-Models" title="Permalink"></a></h2><p>The following models are created from any given model, making some modification to that model.</p><h3 id="SlackModel"><a class="docs-heading-anchor" href="#SlackModel">SlackModel</a><a id="SlackModel-1"></a><a class="docs-heading-anchor-permalink" href="#SlackModel" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="NLPModels.SlackModel" href="#NLPModels.SlackModel"><code>NLPModels.SlackModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A model whose only inequality constraints are bounds.</p><p>Given a model, this type represents a second model in which slack variables are introduced so as to convert linear and nonlinear inequality constraints to equality constraints and bounds. More precisely, if the original model has the form</p><div>\[\begin{aligned}
       \min_x \quad &amp; f(x)\\
\mathrm{s.t.} \quad &amp; c_L ≤ c(x) ≤ c_U,\\
                    &amp;  ℓ  ≤  x   ≤  u,
\end{aligned}\]</div><p>the new model appears to the user as</p><div>\[\begin{aligned}
       \min_X \quad &amp; f(X)\\
\mathrm{s.t.} \quad &amp; g(X) = 0,\\
                    &amp; L ≤ X ≤ U.
\end{aligned}\]</div><p>The unknowns <span>$X = (x, s)$</span> contain the original variables and slack variables <span>$s$</span>. The latter are such that the new model has the general form</p><div>\[\begin{aligned}
       \min_x \quad &amp; f(x)\\
\mathrm{s.t.} \quad &amp; c(x) - s = 0,\\
                    &amp; c_L ≤ s ≤ c_U,\\
                    &amp;  ℓ  ≤ x ≤ u.
\end{aligned}\]</div><p>although no slack variables are introduced for equality constraints.</p><p>The slack variables are implicitly ordered as <code>[s(low), s(upp), s(rng)]</code>, where <code>low</code>, <code>upp</code> and <code>rng</code> represent the indices of the constraints of the form <span>$c_L ≤ c(x) &lt; ∞$</span>, <span>$-∞ &lt; c(x) ≤ c_U$</span> and <span>$c_L ≤ c(x) ≤ c_U$</span>, respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/slack_model.jl#L4-L48">source</a></section></article><h3 id="Example-2"><a class="docs-heading-anchor" href="#Example-2">Example</a><a class="docs-heading-anchor-permalink" href="#Example-2" title="Permalink"></a></h3><pre><code class="language-julia">using NLPModels
f(x) = x[1]^2 + 4x[2]^2
c(x) = [x[1]*x[2] - 1]
x = [2.0; 2.0]
nlp = ADNLPModel(f, x, c, [0.0], [0.0])
nlp_slack = SlackModel(nlp)
nlp_slack.meta.lvar</code></pre><pre class="documenter-example-output">2-element Array{Float64,1}:
 -Inf
 -Inf</pre><h3 id="LBFGSModel"><a class="docs-heading-anchor" href="#LBFGSModel">LBFGSModel</a><a id="LBFGSModel-1"></a><a class="docs-heading-anchor-permalink" href="#LBFGSModel" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="NLPModels.LBFGSModel" href="#NLPModels.LBFGSModel"><code>NLPModels.LBFGSModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Construct a <code>LBFGSModel</code> from another type of model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/qn_model.jl#L17">source</a></section></article><h3 id="LSR1Model"><a class="docs-heading-anchor" href="#LSR1Model">LSR1Model</a><a id="LSR1Model-1"></a><a class="docs-heading-anchor-permalink" href="#LSR1Model" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="NLPModels.LSR1Model" href="#NLPModels.LSR1Model"><code>NLPModels.LSR1Model</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Construct a <code>LSR1Model</code> from another type of nlp.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/qn_model.jl#L23">source</a></section></article><h1 id="NLSModels"><a class="docs-heading-anchor" href="#NLSModels">NLSModels</a><a id="NLSModels-1"></a><a class="docs-heading-anchor-permalink" href="#NLSModels" title="Permalink"></a></h1><h2 id="ADNLSModel"><a class="docs-heading-anchor" href="#ADNLSModel">ADNLSModel</a><a id="ADNLSModel-1"></a><a class="docs-heading-anchor-permalink" href="#ADNLSModel" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NLPModels.ADNLSModel" href="#NLPModels.ADNLSModel"><code>NLPModels.ADNLSModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ADNLSModel(F, x0, nequ)
ADNLSModel(F, x0, nequ, lvar, uvar)
ADNLSModel(F, x0, nequ, c, lcon, ucon)
ADNLSModel(F, x0, nequ, lvar, uvar, c, lcon, ucon)</code></pre><p>ADNLSModel is an Nonlinear Least Squares model using ForwardDiff to compute the derivatives. The problem is defined as</p><pre><code class="language-none"> min  ½‖F(x)‖²
s.to  lcon ≤ c(x) ≤ ucon
      lvar ≤   x  ≤ uvar</code></pre><p>The following keyword arguments are available to all constructors:</p><ul><li><code>linequ</code>: An array of indexes of the linear equations (default: <code>Int[]</code>)</li><li><code>name</code>: The name of the model (default: &quot;Generic&quot;)</li></ul><p>The following keyword arguments are available to the constructors for constrained problems:</p><ul><li><code>lin</code>: An array of indexes of the linear constraints (default: <code>Int[]</code>)</li><li><code>y0</code>: An inital estimate to the Lagrangian multipliers (default: zeros)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/autodiff_nlsmodel.jl#L17-L40">source</a></section></article><pre><code class="language-julia">using NLPModels
F(x) = [x[1] - 1; 10*(x[2] - x[1]^2)]
nlp = ADNLSModel(F, [-1.2; 1.0], 2)
residual(nlp, nlp.meta.x0)</code></pre><pre class="documenter-example-output">2-element Array{Float64,1}:
 -2.2
 -4.3999999999999995</pre><h2 id="FeasibilityResidual"><a class="docs-heading-anchor" href="#FeasibilityResidual">FeasibilityResidual</a><a id="FeasibilityResidual-1"></a><a class="docs-heading-anchor-permalink" href="#FeasibilityResidual" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NLPModels.FeasibilityResidual" href="#NLPModels.FeasibilityResidual"><code>NLPModels.FeasibilityResidual</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A feasibility residual model is created from a NLPModel of the form</p><div>\[\begin{aligned}
       \min_x \quad &amp; f(x) \\
\mathrm{s.t.} \quad &amp; c_L ≤ c(x) ≤ c_U \\
                      &amp; \ell ≤   x  ≤ u,
\end{aligned}\]</div><p>by creating slack variables <span>$s = c(x)$</span> and defining an NLS problem from the equality constraints. The resulting problem is a bound-constrained nonlinear least-squares problem with residual function <span>$F(x,s) = c(x) - s$</span>:</p><div>\[\begin{aligned}
       \min_x \quad &amp; \tfrac{1}{2} \|c(x) - s\|^2 \\
\mathrm{s.t.} \quad &amp; \ell ≤ x ≤ u \\
                      &amp; c_L ≤ s ≤ c_U.
\end{aligned}\]</div><p>Notice that this problem is an <code>AbstractNLSModel</code>, thus the residual value, Jacobian and Hessian are explicitly defined through the <a href="../api/#nls-api">NLS API</a>. The slack variables are created using SlackModel. If <span>$\ell_i = u_i$</span>, no slack variable is created. In particular, if there are only equality constrained of the form <span>$c(x) = 0$</span>, the resulting NLS is simply <span>$\min_x \tfrac{1}{2}\|c(x)\|^2$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/feasibility_residual.jl#L4-L27">source</a></section></article><h2 id="LLSModel"><a class="docs-heading-anchor" href="#LLSModel">LLSModel</a><a id="LLSModel-1"></a><a class="docs-heading-anchor-permalink" href="#LLSModel" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NLPModels.LLSModel" href="#NLPModels.LLSModel"><code>NLPModels.LLSModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">nls = LLSModel(A, b; lvar, uvar, C, lcon, ucon)</code></pre><p>Creates a Linear Least Squares model <span>$\tfrac{1}{2}\|Ax - b\|^2$</span> with optional bounds <code>lvar ≦ x ≦ uvar</code> and optional linear constraints <code>lcon ≦ Cx ≦ ucon</code>. This problem is a nonlinear least-squares problem with residual given by <span>$F(x) = Ax - b$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/lls_model.jl#L3-L9">source</a></section></article><h2 id="SlackNLSModel"><a class="docs-heading-anchor" href="#SlackNLSModel">SlackNLSModel</a><a id="SlackNLSModel-1"></a><a class="docs-heading-anchor-permalink" href="#SlackNLSModel" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NLPModels.SlackNLSModel" href="#NLPModels.SlackNLSModel"><code>NLPModels.SlackNLSModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Like <code>SlackModel</code>, this model converts inequalities into equalities and bounds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/slack_model.jl#L61-L63">source</a></section></article><h2 id="FeasibilityFormNLS"><a class="docs-heading-anchor" href="#FeasibilityFormNLS">FeasibilityFormNLS</a><a id="FeasibilityFormNLS-1"></a><a class="docs-heading-anchor-permalink" href="#FeasibilityFormNLS" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NLPModels.FeasibilityFormNLS" href="#NLPModels.FeasibilityFormNLS"><code>NLPModels.FeasibilityFormNLS</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Converts a nonlinear least-squares problem with residual <span>$F(x)$</span> to a nonlinear optimization problem with constraints <span>$F(x) = r$</span> and objective <span>$\tfrac{1}{2}\|r\|^2$</span>. In other words, converts</p><div>\[\begin{aligned}
       \min_x \quad &amp; \tfrac{1}{2}\|F(x)\|^2 \\
\mathrm{s.t.} \quad &amp; c_L ≤ c(x) ≤ c_U \\
                      &amp;   ℓ ≤   x  ≤ u
\end{aligned}\]</div><p>to</p><div>\[\begin{aligned}
   \min_{x,r} \quad &amp; \tfrac{1}{2}\|r\|^2 \\
\mathrm{s.t.} \quad &amp; F(x) - r = 0 \\
                      &amp; c_L ≤ c(x) ≤ c_U \\
                      &amp;   ℓ ≤   x  ≤ u
\end{aligned}\]</div><p>If you rather have the first problem, the <code>nls</code> model already works as an NLPModel of that format.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl/blob/a0079f8d24f92afa584bc83f998b89137057dad2/src/feasibility_form_nls.jl#L4-L26">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../guidelines/">Guidelines »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 6 August 2020 15:44">Thursday 6 August 2020</span>. Using Julia version 1.5.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
